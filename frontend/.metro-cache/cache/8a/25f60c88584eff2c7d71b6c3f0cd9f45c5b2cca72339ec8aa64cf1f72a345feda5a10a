{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":26,"index":60}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":61},"end":{"line":3,"column":39,"index":100}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}},{"name":"./authStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":101},"end":{"line":4,"column":43,"index":144}}],"key":"U6CTK4XdRNkRchTKeKtDOo47dKY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useImpactStore\", {\n    enumerable: true,\n    get: function () {\n      return useImpactStore;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _expoVirtualEnv = require(_dependencyMap[1], \"expo/virtual/env\");\n  var _zustand = require(_dependencyMap[2], \"zustand\");\n  var _axios = require(_dependencyMap[3], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _expoConstants = require(_dependencyMap[4], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  var _authStore = require(_dependencyMap[5], \"./authStore\");\n  var API_URL = Constants.default.expoConfig?.extra?.EXPO_PUBLIC_BACKEND_URL || _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n  var useImpactStore = (0, _zustand.create)(set => ({\n    impact: null,\n    isLoading: false,\n    fetchImpact: function () {\n      var _ref = (0, _asyncToGenerator.default)(function* () {\n        set({\n          isLoading: true\n        });\n        try {\n          var token = _authStore.useAuthStore.getState().token;\n          var response = yield axios.default.get(`${API_URL}/api/impact`, {\n            headers: {\n              Authorization: `Bearer ${token}`\n            }\n          });\n          set({\n            impact: response.data,\n            isLoading: false\n          });\n        } catch (error) {\n          set({\n            isLoading: false\n          });\n          console.error('Failed to fetch impact:', error);\n        }\n      });\n      return function fetchImpact() {\n        return _ref.apply(this, arguments);\n      };\n    }(),\n    recordTrip: function () {\n      var _ref2 = (0, _asyncToGenerator.default)(function* (tripData) {\n        try {\n          var token = _authStore.useAuthStore.getState().token;\n          yield axios.default.post(`${API_URL}/api/impact/record-trip`, tripData, {\n            headers: {\n              Authorization: `Bearer ${token}`\n            }\n          });\n\n          // Refresh impact data\n          yield useImpactStore.getState().fetchImpact();\n        } catch (error) {\n          console.error('Failed to record trip:', error);\n        }\n      });\n      return function recordTrip(_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }()\n  }));\n});","lineCount":79,"map":[[12,2,26,0,"Object"],[12,8,26,0],[12,9,26,0,"defineProperty"],[12,23,26,0],[12,24,26,0,"exports"],[12,31,26,0],[13,4,26,0,"enumerable"],[13,14,26,0],[14,4,26,0,"get"],[14,7,26,0],[14,18,26,0,"get"],[14,19,26,0],[15,6,26,0],[15,13,26,0,"useImpactStore"],[15,27,26,0],[16,4,26,0],[17,2,26,0],[18,2,58,4],[18,6,58,4,"_babelRuntimeHelpersAsyncToGenerator"],[18,42,58,4],[18,45,58,4,"require"],[18,52,58,4],[18,53,58,4,"_dependencyMap"],[18,67,58,4],[19,2,58,4],[19,6,58,4,"_asyncToGenerator"],[19,23,58,4],[19,26,58,4,"_interopDefault"],[19,41,58,4],[19,42,58,4,"_babelRuntimeHelpersAsyncToGenerator"],[19,78,58,4],[20,2,58,4],[20,6,58,4,"_expoVirtualEnv"],[20,21,58,4],[20,24,58,4,"require"],[20,31,58,4],[20,32,58,4,"_dependencyMap"],[20,46,58,4],[21,2,1,0],[21,6,1,0,"_zustand"],[21,14,1,0],[21,17,1,0,"require"],[21,24,1,0],[21,25,1,0,"_dependencyMap"],[21,39,1,0],[22,2,2,0],[22,6,2,0,"_axios"],[22,12,2,0],[22,15,2,0,"require"],[22,22,2,0],[22,23,2,0,"_dependencyMap"],[22,37,2,0],[23,2,2,0],[23,6,2,0,"axios"],[23,11,2,0],[23,14,2,0,"_interopDefault"],[23,29,2,0],[23,30,2,0,"_axios"],[23,36,2,0],[24,2,3,0],[24,6,3,0,"_expoConstants"],[24,20,3,0],[24,23,3,0,"require"],[24,30,3,0],[24,31,3,0,"_dependencyMap"],[24,45,3,0],[25,2,3,0],[25,6,3,0,"Constants"],[25,15,3,0],[25,18,3,0,"_interopDefault"],[25,33,3,0],[25,34,3,0,"_expoConstants"],[25,48,3,0],[26,2,4,0],[26,6,4,0,"_authStore"],[26,16,4,0],[26,19,4,0,"require"],[26,26,4,0],[26,27,4,0,"_dependencyMap"],[26,41,4,0],[27,2,6,0],[27,6,6,6,"API_URL"],[27,13,6,13],[27,16,6,16,"Constants"],[27,25,6,25],[27,26,6,25,"default"],[27,33,6,25],[27,34,6,26,"expoConfig"],[27,44,6,36],[27,46,6,38,"extra"],[27,51,6,43],[27,53,6,45,"EXPO_PUBLIC_BACKEND_URL"],[27,76,6,68],[27,80,6,68,"_expoVirtualEnv"],[27,95,6,68],[27,96,6,68,"env"],[27,99,6,68],[27,100,6,68,"EXPO_PUBLIC_BACKEND_URL"],[27,123,6,107],[28,2,26,7],[28,6,26,13,"useImpactStore"],[28,20,26,27],[28,23,26,30],[28,27,26,30,"create"],[28,35,26,36],[28,36,26,36,"create"],[28,42,26,36],[28,44,26,51,"set"],[28,47,26,54],[28,52,26,60],[29,4,27,2,"impact"],[29,10,27,8],[29,12,27,10],[29,16,27,14],[30,4,28,2,"isLoading"],[30,13,28,11],[30,15,28,13],[30,20,28,18],[31,4,30,2,"fetchImpact"],[31,15,30,13],[32,6,30,13],[32,10,30,13,"_ref"],[32,14,30,13],[32,21,30,13,"_asyncToGenerator"],[32,38,30,13],[32,39,30,13,"default"],[32,46,30,13],[32,48,30,15],[32,61,30,27],[33,8,31,4,"set"],[33,11,31,7],[33,12,31,8],[34,10,31,10,"isLoading"],[34,19,31,19],[34,21,31,21],[35,8,31,26],[35,9,31,27],[35,10,31,28],[36,8,32,4],[36,12,32,8],[37,10,33,6],[37,14,33,12,"token"],[37,19,33,17],[37,22,33,20,"useAuthStore"],[37,32,33,32],[37,33,33,32,"useAuthStore"],[37,45,33,32],[37,46,33,33,"getState"],[37,54,33,41],[37,55,33,42],[37,56,33,43],[37,57,33,44,"token"],[37,62,33,49],[38,10,34,6],[38,14,34,12,"response"],[38,22,34,20],[38,31,34,29,"axios"],[38,36,34,34],[38,37,34,34,"default"],[38,44,34,34],[38,45,34,35,"get"],[38,48,34,38],[38,49,34,39],[38,52,34,42,"API_URL"],[38,59,34,49],[38,72,34,62],[38,74,34,64],[39,12,35,8,"headers"],[39,19,35,15],[39,21,35,17],[40,14,35,19,"Authorization"],[40,27,35,32],[40,29,35,34],[40,39,35,44,"token"],[40,44,35,49],[41,12,35,52],[42,10,36,6],[42,11,36,7],[42,12,36,8],[43,10,38,6,"set"],[43,13,38,9],[43,14,38,10],[44,12,38,12,"impact"],[44,18,38,18],[44,20,38,20,"response"],[44,28,38,28],[44,29,38,29,"data"],[44,33,38,33],[45,12,38,35,"isLoading"],[45,21,38,44],[45,23,38,46],[46,10,38,52],[46,11,38,53],[46,12,38,54],[47,8,39,4],[47,9,39,5],[47,10,39,6],[47,17,39,13,"error"],[47,22,39,18],[47,24,39,20],[48,10,40,6,"set"],[48,13,40,9],[48,14,40,10],[49,12,40,12,"isLoading"],[49,21,40,21],[49,23,40,23],[50,10,40,29],[50,11,40,30],[50,12,40,31],[51,10,41,6,"console"],[51,17,41,13],[51,18,41,14,"error"],[51,23,41,19],[51,24,41,20],[51,49,41,45],[51,51,41,47,"error"],[51,56,41,52],[51,57,41,53],[52,8,42,4],[53,6,43,2],[53,7,43,3],[54,6,43,3],[54,22,30,2,"fetchImpact"],[54,33,30,13,"fetchImpact"],[54,34,30,13],[55,8,30,13],[55,15,30,13,"_ref"],[55,19,30,13],[55,20,30,13,"apply"],[55,25,30,13],[55,32,30,13,"arguments"],[55,41,30,13],[56,6,30,13],[57,4,30,13],[57,7,43,3],[58,4,45,2,"recordTrip"],[58,14,45,12],[59,6,45,12],[59,10,45,12,"_ref2"],[59,15,45,12],[59,22,45,12,"_asyncToGenerator"],[59,39,45,12],[59,40,45,12,"default"],[59,47,45,12],[59,49,45,14],[59,60,45,21,"tripData"],[59,68,45,34],[59,70,45,39],[60,8,46,4],[60,12,46,8],[61,10,47,6],[61,14,47,12,"token"],[61,19,47,17],[61,22,47,20,"useAuthStore"],[61,32,47,32],[61,33,47,32,"useAuthStore"],[61,45,47,32],[61,46,47,33,"getState"],[61,54,47,41],[61,55,47,42],[61,56,47,43],[61,57,47,44,"token"],[61,62,47,49],[62,10,48,6],[62,16,48,12,"axios"],[62,21,48,17],[62,22,48,17,"default"],[62,29,48,17],[62,30,48,18,"post"],[62,34,48,22],[62,35,48,23],[62,38,48,26,"API_URL"],[62,45,48,33],[62,70,48,58],[62,72,48,60,"tripData"],[62,80,48,68],[62,82,48,70],[63,12,49,8,"headers"],[63,19,49,15],[63,21,49,17],[64,14,49,19,"Authorization"],[64,27,49,32],[64,29,49,34],[64,39,49,44,"token"],[64,44,49,49],[65,12,49,52],[66,10,50,6],[66,11,50,7],[66,12,50,8],[68,10,52,6],[69,10,53,6],[69,16,53,12,"useImpactStore"],[69,30,53,26],[69,31,53,27,"getState"],[69,39,53,35],[69,40,53,36],[69,41,53,37],[69,42,53,38,"fetchImpact"],[69,53,53,49],[69,54,53,50],[69,55,53,51],[70,8,54,4],[70,9,54,5],[70,10,54,6],[70,17,54,13,"error"],[70,22,54,18],[70,24,54,20],[71,10,55,6,"console"],[71,17,55,13],[71,18,55,14,"error"],[71,23,55,19],[71,24,55,20],[71,48,55,44],[71,50,55,46,"error"],[71,55,55,51],[71,56,55,52],[72,8,56,4],[73,6,57,2],[73,7,57,3],[74,6,57,3],[74,22,45,2,"recordTrip"],[74,32,45,12,"recordTrip"],[74,33,45,12,"_x"],[74,35,45,12],[75,8,45,12],[75,15,45,12,"_ref2"],[75,20,45,12],[75,21,45,12,"apply"],[75,26,45,12],[75,33,45,12,"arguments"],[75,42,45,12],[76,6,45,12],[77,4,45,12],[78,2,58,0],[78,3,58,1],[78,4,58,2],[78,5,58,3],[79,0,58,4],[79,3]],"functionMap":{"names":["<global>","create$argument_0","fetchImpact","recordTrip"],"mappings":"AAA;kDCyB;eCI;GDa;cEE;GFY;EDC"},"hasCjsExports":false},"type":"js/module"}]}