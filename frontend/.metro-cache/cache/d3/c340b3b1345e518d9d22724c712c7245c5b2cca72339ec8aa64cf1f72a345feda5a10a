{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":26,"index":60}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":61},"end":{"line":3,"column":39,"index":100}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}},{"name":"./authStore","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":101},"end":{"line":4,"column":43,"index":144}}],"key":"U6CTK4XdRNkRchTKeKtDOo47dKY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useImpactStore\", {\n    enumerable: true,\n    get: function () {\n      return useImpactStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _axios = require(_dependencyMap[1], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _expoConstants = require(_dependencyMap[2], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  var _authStore = require(_dependencyMap[3], \"./authStore\");\n  const API_URL = Constants.default.expoConfig?.extra?.EXPO_PUBLIC_BACKEND_URL || process.env.EXPO_PUBLIC_BACKEND_URL;\n  const useImpactStore = (0, _zustand.create)(set => ({\n    impact: null,\n    isLoading: false,\n    fetchImpact: async () => {\n      set({\n        isLoading: true\n      });\n      try {\n        const token = _authStore.useAuthStore.getState().token;\n        const response = await axios.default.get(`${API_URL}/api/impact`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        set({\n          impact: response.data,\n          isLoading: false\n        });\n      } catch (error) {\n        set({\n          isLoading: false\n        });\n        console.error('Failed to fetch impact:', error);\n      }\n    },\n    recordTrip: async tripData => {\n      try {\n        const token = _authStore.useAuthStore.getState().token;\n        await axios.default.post(`${API_URL}/api/impact/record-trip`, tripData, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n\n        // Refresh impact data\n        await useImpactStore.getState().fetchImpact();\n      } catch (error) {\n        console.error('Failed to record trip:', error);\n      }\n    }\n  }));\n});","lineCount":66,"map":[[12,2,26,0,"Object"],[12,8,26,0],[12,9,26,0,"defineProperty"],[12,23,26,0],[12,24,26,0,"exports"],[12,31,26,0],[13,4,26,0,"enumerable"],[13,14,26,0],[14,4,26,0,"get"],[14,7,26,0],[14,18,26,0,"get"],[14,19,26,0],[15,6,26,0],[15,13,26,0,"useImpactStore"],[15,27,26,0],[16,4,26,0],[17,2,26,0],[18,2,1,0],[18,6,1,0,"_zustand"],[18,14,1,0],[18,17,1,0,"require"],[18,24,1,0],[18,25,1,0,"_dependencyMap"],[18,39,1,0],[19,2,2,0],[19,6,2,0,"_axios"],[19,12,2,0],[19,15,2,0,"require"],[19,22,2,0],[19,23,2,0,"_dependencyMap"],[19,37,2,0],[20,2,2,0],[20,6,2,0,"axios"],[20,11,2,0],[20,14,2,0,"_interopDefault"],[20,29,2,0],[20,30,2,0,"_axios"],[20,36,2,0],[21,2,3,0],[21,6,3,0,"_expoConstants"],[21,20,3,0],[21,23,3,0,"require"],[21,30,3,0],[21,31,3,0,"_dependencyMap"],[21,45,3,0],[22,2,3,0],[22,6,3,0,"Constants"],[22,15,3,0],[22,18,3,0,"_interopDefault"],[22,33,3,0],[22,34,3,0,"_expoConstants"],[22,48,3,0],[23,2,4,0],[23,6,4,0,"_authStore"],[23,16,4,0],[23,19,4,0,"require"],[23,26,4,0],[23,27,4,0,"_dependencyMap"],[23,41,4,0],[24,2,6,0],[24,8,6,6,"API_URL"],[24,15,6,13],[24,18,6,16,"Constants"],[24,27,6,25],[24,28,6,25,"default"],[24,35,6,25],[24,36,6,26,"expoConfig"],[24,46,6,36],[24,48,6,38,"extra"],[24,53,6,43],[24,55,6,45,"EXPO_PUBLIC_BACKEND_URL"],[24,78,6,68],[24,82,6,72,"process"],[24,89,6,79],[24,90,6,80,"env"],[24,93,6,83],[24,94,6,84,"EXPO_PUBLIC_BACKEND_URL"],[24,117,6,107],[25,2,26,7],[25,8,26,13,"useImpactStore"],[25,22,26,27],[25,25,26,30],[25,29,26,30,"create"],[25,37,26,36],[25,38,26,36,"create"],[25,44,26,36],[25,46,26,51,"set"],[25,49,26,54],[25,54,26,60],[26,4,27,2,"impact"],[26,10,27,8],[26,12,27,10],[26,16,27,14],[27,4,28,2,"isLoading"],[27,13,28,11],[27,15,28,13],[27,20,28,18],[28,4,30,2,"fetchImpact"],[28,15,30,13],[28,17,30,15],[28,23,30,15,"fetchImpact"],[28,24,30,15],[28,29,30,27],[29,6,31,4,"set"],[29,9,31,7],[29,10,31,8],[30,8,31,10,"isLoading"],[30,17,31,19],[30,19,31,21],[31,6,31,26],[31,7,31,27],[31,8,31,28],[32,6,32,4],[32,10,32,8],[33,8,33,6],[33,14,33,12,"token"],[33,19,33,17],[33,22,33,20,"useAuthStore"],[33,32,33,32],[33,33,33,32,"useAuthStore"],[33,45,33,32],[33,46,33,33,"getState"],[33,54,33,41],[33,55,33,42],[33,56,33,43],[33,57,33,44,"token"],[33,62,33,49],[34,8,34,6],[34,14,34,12,"response"],[34,22,34,20],[34,25,34,23],[34,31,34,29,"axios"],[34,36,34,34],[34,37,34,34,"default"],[34,44,34,34],[34,45,34,35,"get"],[34,48,34,38],[34,49,34,39],[34,52,34,42,"API_URL"],[34,59,34,49],[34,72,34,62],[34,74,34,64],[35,10,35,8,"headers"],[35,17,35,15],[35,19,35,17],[36,12,35,19,"Authorization"],[36,25,35,32],[36,27,35,34],[36,37,35,44,"token"],[36,42,35,49],[37,10,35,52],[38,8,36,6],[38,9,36,7],[38,10,36,8],[39,8,38,6,"set"],[39,11,38,9],[39,12,38,10],[40,10,38,12,"impact"],[40,16,38,18],[40,18,38,20,"response"],[40,26,38,28],[40,27,38,29,"data"],[40,31,38,33],[41,10,38,35,"isLoading"],[41,19,38,44],[41,21,38,46],[42,8,38,52],[42,9,38,53],[42,10,38,54],[43,6,39,4],[43,7,39,5],[43,8,39,6],[43,15,39,13,"error"],[43,20,39,18],[43,22,39,20],[44,8,40,6,"set"],[44,11,40,9],[44,12,40,10],[45,10,40,12,"isLoading"],[45,19,40,21],[45,21,40,23],[46,8,40,29],[46,9,40,30],[46,10,40,31],[47,8,41,6,"console"],[47,15,41,13],[47,16,41,14,"error"],[47,21,41,19],[47,22,41,20],[47,47,41,45],[47,49,41,47,"error"],[47,54,41,52],[47,55,41,53],[48,6,42,4],[49,4,43,2],[49,5,43,3],[50,4,45,2,"recordTrip"],[50,14,45,12],[50,16,45,14],[50,22,45,21,"tripData"],[50,30,45,34],[50,34,45,39],[51,6,46,4],[51,10,46,8],[52,8,47,6],[52,14,47,12,"token"],[52,19,47,17],[52,22,47,20,"useAuthStore"],[52,32,47,32],[52,33,47,32,"useAuthStore"],[52,45,47,32],[52,46,47,33,"getState"],[52,54,47,41],[52,55,47,42],[52,56,47,43],[52,57,47,44,"token"],[52,62,47,49],[53,8,48,6],[53,14,48,12,"axios"],[53,19,48,17],[53,20,48,17,"default"],[53,27,48,17],[53,28,48,18,"post"],[53,32,48,22],[53,33,48,23],[53,36,48,26,"API_URL"],[53,43,48,33],[53,68,48,58],[53,70,48,60,"tripData"],[53,78,48,68],[53,80,48,70],[54,10,49,8,"headers"],[54,17,49,15],[54,19,49,17],[55,12,49,19,"Authorization"],[55,25,49,32],[55,27,49,34],[55,37,49,44,"token"],[55,42,49,49],[56,10,49,52],[57,8,50,6],[57,9,50,7],[57,10,50,8],[59,8,52,6],[60,8,53,6],[60,14,53,12,"useImpactStore"],[60,28,53,26],[60,29,53,27,"getState"],[60,37,53,35],[60,38,53,36],[60,39,53,37],[60,40,53,38,"fetchImpact"],[60,51,53,49],[60,52,53,50],[60,53,53,51],[61,6,54,4],[61,7,54,5],[61,8,54,6],[61,15,54,13,"error"],[61,20,54,18],[61,22,54,20],[62,8,55,6,"console"],[62,15,55,13],[62,16,55,14,"error"],[62,21,55,19],[62,22,55,20],[62,46,55,44],[62,48,55,46,"error"],[62,53,55,51],[62,54,55,52],[63,6,56,4],[64,4,57,2],[65,2,58,0],[65,3,58,1],[65,4,58,2],[65,5,58,3],[66,0,58,4],[66,3]],"functionMap":{"names":["<global>","create$argument_0","fetchImpact","recordTrip"],"mappings":"AAA;kDCyB;eCI;GDa;cEE;GFY;EDC"},"hasCjsExports":false},"type":"js/module"}]}